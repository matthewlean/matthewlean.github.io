<!DOCTYPE html>
<html lang="en">
{% include head.html %}

<body>
  <div class="page-wrapper">

    {% include header-main.html %}

    <div class="splash"
      style="background-image: url({{site.baseurl}}/assets/site-post/{{page.img}}); background-size: cover;position: relative; background-color: #0f6aea; background-position:50% 50%;">

      <div class="splash-video-wrapper">
        <div
          style="background-image: linear-gradient(to bottom right, #{{ page.color-1 | escape }}, #{{ page.color-2 | escape }});"
          class="project-image-gradient"></div>

        <!-- <video class="splash-video" playsinline="" autoplay="" muted="" loop=""
          poster="{{site.baseurl}}/{{page.img}}" id="bgvid">
          <source class="splash-video" src="{{site.baseurl}}/assets/site-video/{{page.video}}" type="video/mp4">
        </video> -->

      </div>


      <div class="site-container splash-overlay">
        <div class="header-content-container">
          <div class="splash-headline">
            <h1 class="project-name">{{ page.title }}</h1>
            <p class="description text-light mt-2">{{ page.description | escape }}</p>
          </div>
        </div>
      </div>
    </div>

    <div class="fluid-container">
      {{ content }}
    </div>

    <div class="fluid-container">

      <!-- Main Project -->

      <div id="grid" class="mt-5 mb-5">

        <div class="grid-sizer"></div>
        <div class="gutter-sizer"></div>

        {% for image in site.static_files %}
        {% if image.path contains 'photography' %}
        <div href="#" data-featherlight="{{ site.baseurl }}{{ image.path }}" class="grid-item">
          <img alt="Matthew Lean - Photography" src="{{ site.baseurl }}{{ image.path }}">
        </div>
        {% endif %}
        {% endfor %}

        
      </div>



      <script>
        $(function () {

          var $grid = $('#grid').masonry({
            // init with no items
            itemSelector: 'NONE',
            percentPosition: true,
            columnWidth: '.grid-sizer',
            gutter: '.gutter-sizer'
          });

          // reset itemSelector to load grid-item
          $grid.masonry('option', {
            itemSelector: '.grid-item',
          })

          $grid.masonryImagesReveal($('#grid').find('.grid-item'));

        });

        $.fn.masonryImagesReveal = function ($items) {
          var msnry = this.data('masonry');
          var itemSelector = msnry.options.itemSelector;
          // hide by default
          $items.hide();
          // append to container
          this.append($items);
          $items.imagesLoaded().progress(function (imgLoad, image) {
            // get item
            // image is imagesLoaded class, not <img>, <img> is image.img
            var $item = $(image.img).parents(itemSelector);
            // un-hide item
            $item.show();
            // masonry does its thing
            msnry.appended($item);
          });

          return this;
        };
      </script>

      <!-- Masonry -->
      <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.js"></script>

      <script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.js"></script>

    </div>

  </div>

  {% include footer.html %}

</body>

</html>